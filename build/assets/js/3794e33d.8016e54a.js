"use strict";(self.webpackChunkgeodd_networks=self.webpackChunkgeodd_networks||[]).push([[255],{1652:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>c,frontMatter:()=>s,metadata:()=>d,toc:()=>l});var r=t(4848),o=t(8453);const s={displayed_sidebar:"celestiaSidebar"},i="Upgrading",d={id:"celestia/bridge-da-node/upgrading",title:"Upgrading",description:"To keep your Celestia Bridge node up to date with the latest features and network changes, you can quickly upgrade the node using the provided Ansible playbook. This method allows you to easily manage upgrades across one or more bridge nodes with minimal effort.",source:"@site/docs/celestia/bridge-da-node/upgrading.md",sourceDirName:"celestia/bridge-da-node",slug:"/celestia/bridge-da-node/upgrading",permalink:"/docs/celestia/bridge-da-node/upgrading",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/celestia/bridge-da-node/upgrading.md",tags:[],version:"current",frontMatter:{displayed_sidebar:"celestiaSidebar"},sidebar:"celestiaSidebar",previous:{title:"Running Bridge Node",permalink:"/docs/celestia/bridge-da-node/running-bridge-node"},next:{title:"Monitoring",permalink:"/docs/celestia/bridge-da-node/monitoring"}},a={},l=[{value:"<strong>Step 1: Update the Version in the Playbook</strong>",id:"step-1-update-the-version-in-the-playbook",level:4},{value:"<strong>Step 2: Run the Upgrade Playbook</strong>",id:"step-2-run-the-upgrade-playbook",level:4},{value:"<strong>Explanation of the Command:</strong>",id:"explanation-of-the-command",level:4},{value:"<strong>Step 3: Verify the Upgrade</strong>",id:"step-3-verify-the-upgrade",level:4}];function h(e){const n={a:"a",code:"code",h1:"h1",h4:"h4",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"upgrading",children:"Upgrading"})}),"\n",(0,r.jsx)(n.p,{children:"To keep your Celestia Bridge node up to date with the latest features and network changes, you can quickly upgrade the node using the provided Ansible playbook. This method allows you to easily manage upgrades across one or more bridge nodes with minimal effort."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"step-1-update-the-version-in-the-playbook",children:(0,r.jsx)(n.strong,{children:"Step 1: Update the Version in the Playbook"})}),"\n",(0,r.jsxs)(n.p,{children:["Before executing the playbook, ensure that the ",(0,r.jsx)(n.code,{children:"bridge_version"})," variable in your Ansible playbook is set to the latest version of the Celestia bridge node. You can update this in the playbook:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'vars:\n  bridge_version: "v0.16.0"  # Update to the latest version\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Refer to the ",(0,r.jsx)(n.a,{href:"https://github.com/celestiaorg/celestia-node",children:"Celestia GitHub repository"})," for the latest version number."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"step-2-run-the-upgrade-playbook",children:(0,r.jsx)(n.strong,{children:"Step 2: Run the Upgrade Playbook"})}),"\n",(0,r.jsx)(n.p,{children:"After updating the version, execute the Ansible playbook to upgrade your bridge node."}),"\n",(0,r.jsx)(n.p,{children:"Use the following command to run the playbook:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ansible-playbook -i hosts.ini playbooks/upgrade_bridge.yml -l bridge-node-servers\n"})}),"\n",(0,r.jsx)(n.h4,{id:"explanation-of-the-command",children:(0,r.jsx)(n.strong,{children:"Explanation of the Command:"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-i hosts.ini"})}),": This specifies the inventory file where your server(s) are listed."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"playbooks/upgrade_bridge.yml"})}),": The playbook file that handles the upgrade process for the bridge node."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-l bridge-node-servers"})}),": This limits the playbook execution to the group or host (in this case, bridge-node-servers) defined in your inventory file."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"step-3-verify-the-upgrade",children:(0,r.jsx)(n.strong,{children:"Step 3: Verify the Upgrade"})}),"\n",(0,r.jsx)(n.p,{children:"After the playbook completes, verify that your bridge node has been upgraded and is running the correct version. You can check the status of the service with the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo systemctl status celestia-bridge\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can also confirm the version of the running Celestia Bridge node:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"celestia bridge version\n"})}),"\n",(0,r.jsx)(n.p,{children:"This should match the version you set in the playbook."})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>d});var r=t(6540);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);