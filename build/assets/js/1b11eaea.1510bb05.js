"use strict";(self.webpackChunkgeodd_networks=self.webpackChunkgeodd_networks||[]).push([[9580],{1021:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var r=i(4848),t=i(8453);const s={displayed_sidebar:"celestiaSidebar"},d="Running Bridge Node",o={id:"celestia/bridge-da-node/running-bridge-node",title:"Running Bridge Node",description:"*",source:"@site/docs/celestia/bridge-da-node/running-bridge-node.md",sourceDirName:"celestia/bridge-da-node",slug:"/celestia/bridge-da-node/running-bridge-node",permalink:"/docs/celestia/bridge-da-node/running-bridge-node",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/celestia/bridge-da-node/running-bridge-node.md",tags:[],version:"current",frontMatter:{displayed_sidebar:"celestiaSidebar"},sidebar:"celestiaSidebar",previous:{title:"ZFS Storage (optional)",permalink:"/docs/celestia/bridge-da-node/zfs-storage-optional"},next:{title:"Upgrading",permalink:"/docs/celestia/bridge-da-node/upgrading"}},a={},c=[{value:"<strong>1: Initialize the Bridge Node</strong>",id:"1-initialize-the-bridge-node",level:3},{value:"<strong>Configure and Initialize the Bridge Node:</strong>",id:"configure-and-initialize-the-bridge-node",level:4},{value:"<strong>2: Restore the Existing Key</strong>",id:"2-restore-the-existing-key",level:3},{value:"<strong>Restore Your Key:</strong>",id:"restore-your-key",level:4},{value:"<strong>3: Check the Bridge Node Sync Status</strong>",id:"3-check-the-bridge-node-sync-status",level:3},{value:"<strong>Check Bridge Node Sync Status:</strong>",id:"check-bridge-node-sync-status",level:4}];function l(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"running-bridge-node",children:"Running Bridge Node"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["After installing the bridge node binary using the ",(0,r.jsx)(n.a,{href:"/docs/celestia/quickstart",children:"Ansible playbook from the Quick Start guide"}),", you can now proceed with setting up and running your Celestia Bridge node. This guide walks you through connecting the bridge node to a validator, syncing with an archival RPC node, and checking sync status."]}),"\n",(0,r.jsx)(n.h3,{id:"1-initialize-the-bridge-node",children:(0,r.jsx)(n.strong,{children:"1: Initialize the Bridge Node"})}),"\n",(0,r.jsx)(n.p,{children:"Before starting the bridge node, it needs to be configured and initialized to connect with your validator."}),"\n",(0,r.jsx)(n.h4,{id:"configure-and-initialize-the-bridge-node",children:(0,r.jsx)(n.strong,{children:"Configure and Initialize the Bridge Node:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"celestia bridge init --core.ip <RPC_NODE_IP> --p2p.network mocha\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"<RPC_NODE_IP>"})}),": This needs to be the IP of an archival RPC node. The bridge node requires an archival node to sync from block zero up to the current block height. This process may take several days or even weeks depending on the node's performance and network speed."]}),"\n",(0,r.jsxs)(n.p,{children:["For more detailed information on the bridge node, you can refer to the official ",(0,r.jsx)(n.a,{href:"https://docs.celestia.org/nodes/bridge-node",children:"Celestia Bridge Node documentation"}),"."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"2-restore-the-existing-key",children:(0,r.jsx)(n.strong,{children:"2: Restore the Existing Key"})}),"\n",(0,r.jsx)(n.p,{children:"If you already have a key that was used on a previous bridge node, you can restore it to the new node setup."}),"\n",(0,r.jsx)(n.h4,{id:"restore-your-key",children:(0,r.jsx)(n.strong,{children:"Restore Your Key:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'KEY_NAME="my_celes_key"\ncd ~/celestia-node\n./cel-key add $KEY_NAME --keyring-backend test --node.type bridge --recover --p2p.network mocha\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"$KEY_NAME"})}),": This should be the name of your existing key that you are restoring. Ensure you have the mnemonic phrase ready for this process."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"--recover"})}),": This flag is used to recover an existing key using the mnemonic phrase."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Start Bridge Node"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo systemctl restart celestia-bridge && sudo journalctl -u celestia-bridge -f\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"3-check-the-bridge-node-sync-status",children:(0,r.jsx)(n.strong,{children:"3: Check the Bridge Node Sync Status"})}),"\n",(0,r.jsx)(n.p,{children:"Once the bridge node is initialized and connected, it will begin syncing from the archival node. You can monitor the sync progress using the following command:"}),"\n",(0,r.jsx)(n.h4,{id:"check-bridge-node-sync-status",children:(0,r.jsx)(n.strong,{children:"Check Bridge Node Sync Status:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"celestia header sync-state --node.store ~/.celestia-bridge-mocha-4/\n"})}),"\n",(0,r.jsx)(n.p,{children:"This command will provide you with the current sync status, allowing you to monitor how far along your bridge node is in the syncing process."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>o});var r=i(6540);const t={},s=r.createContext(t);function d(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);